<div class="users-wrapper">
  <mat-sidenav-container>
    <div class="users">
      <ng-container *ngFor="let user of users">
        <app-card class="app-card" [imageUrl]="user.imageUrl" [isLike]="isLike" (sendToggleLike)="toggleLike(user)"
          (sendEditUser)="editUser(user)" (sendExportUser)="refreshExportCounter()"
          (sendSaveUser)="refreshSaveCounter()" (sendOnlyFirst)="refreshOnlyFirstCounter()" (sendPreview)="previewUser(user)">
          <div class="title">{{ user | fullName }}</div>
          <!-- <div class="title">{{ user.firstName + ' ' + user.lastName }}</div> -->
          <div class="cardContent">
            <ng-container *ngIf="user.hasOwnProperty('id')">
              <mat-list-item>ID: {{ user.id }}</mat-list-item>
              <mat-divider></mat-divider>
            </ng-container>
            <ng-container *ngIf="user.hasOwnProperty('email')">
              <mat-list-item>Email: {{ user.email }}</mat-list-item>
              <mat-divider></mat-divider>
            </ng-container>
            <ng-container *ngIf="user.hasOwnProperty('companyName')">
              <mat-list-item>Company Name: {{ user.companyName }}</mat-list-item>
              <mat-divider></mat-divider>
            </ng-container>
            <ng-container *ngIf="user.hasOwnProperty('department')">
              <mat-list-item>Department: {{ user.department }}</mat-list-item>
              <mat-divider></mat-divider>
            </ng-container>
            <ng-container *ngIf="user.hasOwnProperty('gender')">
              <mat-list-item>Gender: {{ user.gender ? 'Male' : 'Female' }}
                <span ngClass="{{ user.gender ? 'user-male' : 'user-female' }}"></span>
              </mat-list-item>
              <mat-divider></mat-divider>
            </ng-container>
            <ng-container *ngIf="user.hasOwnProperty('age')">
              <mat-list-item>Age: {{ user.age | age }}</mat-list-item>
            </ng-container>
            <ng-container *ngFor="let address of user.addresses">
              <mat-divider></mat-divider>
              <span *ngIf="address.city">
                <mat-list-item>Address: {{ address.addressLine + ' ' + address.city + ' ' + address.zip}}
                </mat-list-item>
              </span>
              <span *ngIf="!address.city">
                <mat-list-item>Address: {{ address.addressLine}}</mat-list-item>
              </span>
            </ng-container>
          </div>
        </app-card>
      </ng-container>
    </div>

    <mat-sidenav class="favorite-wrapper" opened mode="side" position="end">
      <div class="favorite-title">
        Favorite:
      </div>

      <div class="users">
        <ng-container *ngFor="let user of favoriteUsers | async">
          <app-card class="app-card" [imageUrl]="user.imageUrl" [isLike]="isLike" (sendToggleLike)="toggleLike(user)">
            <div class="title">{{ user.firstName + ' ' + user.lastName }}</div>
            <div class="cardContent">
              <mat-list-item>ID: {{ user.id }}</mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>Email: {{ user.email }}</mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>Company Name: {{ user.companyName }}</mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>Department: {{ user.department }}</mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>Gender: {{ user.gender }}</mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item>Age: {{ user.age }}</mat-list-item>
              <ng-container *ngFor="let address of user.addresses">
                <mat-divider></mat-divider>
                <span *ngIf="address.city">
                  <mat-list-item>Address: {{ address.addressLine + ' ' + address.city + ' ' + address.zip}}
                  </mat-list-item>
                </span>
                <span *ngIf="!address.city">
                  <mat-list-item>Address: {{ address.addressLine }}</mat-list-item>
                </span>
              </ng-container>
            </div>
          </app-card>
        </ng-container>
      </div>
    </mat-sidenav>
  </mat-sidenav-container>
</div>